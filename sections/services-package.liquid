<section class="container" style="padding: 4rem 20px;">
  <h2 class="font-stencil uppercase" style="font-size: 3rem; border-bottom: 2px solid var(--swear-white); padding-bottom: 1rem; margin-bottom: 3rem;">
    {{ section.settings.title }}
  </h2>
  {% if section.settings.description != blank %}
    <div class="section-description rte" style="margin-bottom: 3rem;">
      {{ section.settings.description }}
    </div>
  {% endif %}


  <div class="grid-container">
    {% for i in (1..section.settings.products_to_show) %}
      {%- assign product_setting = "product_" | append: i -%}
      {%- assign product = all_products[section.settings[product_setting]] -%}
      {% if product != blank %}
        {% include 'service-card', product: product %}
      {% endif %}
    {% endfor %}
  </div>
</section>

<style>
  .grid-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
  }
</style>

{% schema %}
{
  "name": "Service Package Selection",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Service Packages"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>A brief description of our services.</p>"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "min": 1,
      "max": 12,
      "step": 1,
      "label": "Products to show",
      "default": 3
    },
    {
      "type": "header",
      "content": "Products"
    },
    {
      "type": "product",
      "id": "product_1",
      "label": "Product 1"
    },
    {
      "type": "product",
      "id": "product_2",
      "label": "Product 2"
    },
    {
      "type": "product",
      "id": "product_3",
      "label": "Product 3"
    },
    {
      "type": "product",
      "id": "product_4",
      "label": "Product 4"
    },
    {
      "type": "product",
      "id": "product_5",
      "label": "Product 5"
    },
    {
      "type": "product",
      "id": "product_6",
      "label": "Product 6"
    },
    {
      "type": "product",
      "id": "product_7",
      "label": "Product 7"
    },
    {
      "type": "product",
      "id": "product_8",
      "label": "Product 8"
    },
    {
      "type": "product",
      "id": "product_9",
      "label": "Product 9"
    },
    {
      "type": "product",
      "id": "product_10",
      "label": "Product 10"
    },
    {
      "type": "product",
      "id": "product_11",
      "label": "Product 11"
    },
    {
      "type": "product",
      "id": "product_12",
      "label": "Product 12"
    }
  ],
  "presets": [
    {
      "name": "Service Package Selection"
    }
  ]
}
{% endschema %}
